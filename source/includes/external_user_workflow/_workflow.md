# Getting started

This getting started is for developers that wants to get access to `AGCO's Sandbox Environment` and learn about the APIs.

The following steps will introduce the workflow about how to connect and retrieve data among `APIs`.

- [Ask for credentials](#asking-for-credentials)
- [Getting Access](#getting-access)
- [Authentication](#how-to-authenticate)
- [Making Requests](#making-requests)

## Asking for credentials

Open our <a href="https://agco-fuse.github.io/" target="_blank">landing page</a> for ask for credentials to get access to `sandbox environment`.
This request will be validated and send an email back with access credentials as soon as that is approved.

All the new sandbox users have they own test data such as `Dealer, Equipment and Telementry data`

## Getting Access

The email sent by `AGCO` will contains the following credentials:

Property | Description
-------- | -----------
`username` | will be the email that was used to request access.
`password` | a random alphanumeric password generated by the system (this need to be changed).
`client_id` | the id that will be used to authenticate through OAuth2.
`client_secret` | the secret that will be used to authenticate through OAuth2.
`url to change password` | new users have to change your generated password, this password can't be used to authenticate through OAuth2 server.

### Reseting password
Clicking in the url to change password the user will be redirected to `Oneagco` page and will provide your `username` and `password`. A window asking to change 
the temporary password will appear, like the image below:

![reset password](images/user_reset_password.png "Reset passowrd")

The next step will be choose among the security questions.

![security questions](images/user_security_questions.png "Security questions")

<aside class="notice">
You must choose at least <code>3</code> questions.
</aside>


## How to Authenticate

The authentication proccess is handled by a `OAuth2`, then the developer need to send a request containing the credentials
access token like the `authentication response` example in the right column.

> `curl` example request

```shell
curl -k -X "POST"\
    "https://aaat.agcocorp.com/auth/oauth2/access_token?realm=/dealers"\
    --data-urlencode "username=YOUR_USERNAME"\
    --data-urlencode "password=YOUR_PASSWORD"\
    --data-urlencode "scope=cn mail agcoUUID"\
    --data-urlencode "client_id=YOUR_CLIENT_ID"\
    --data-urlencode "client_secret=YOUR_CLIENT_SECRET"\
    --data-urlencode "grant_type=password"
```

> authentication response

```json
{
  "scope":"mail cn agcoUUID",
  "expires_in":7199,
  "token_type":"Bearer",
  "refresh_token":"2483055a-cb08-4027-a8a9-03f89988d025",
  "access_token":"be9225f4-961a-49c5-bd0d-cf36cb855f69"
}  
```

### Authentication response fields

Field | Description
----- | -----------
 `scope` | Requested scope
 `expires_in`| Token expiration time
 `token_type`| Access token type
 `refresh_token`| Refresh token
 `access_token` | Access token

## Making Requests
